# Install pentest repos
def "mysetup pentest repos" [] {

	echo "Installing searchsploit"
  if (not ('/opt/exploitdb' | path exists)) {
	  git clone -q --depth 1 https://github.com/offensive-security/exploitdb.git /opt/exploitdb
	  ln -sf /opt/exploitdb/searchsploit ~/.local/binaries/.
	  gita add /opt/exploitdb
  }

  if (not ('/opt/responder' | path exists)) {
    echo 'Install Responder'
	  git clone -q --depth 1 https://github.com/lgandx/Responder /opt/responder
	  gita add /opt/responder
  }

  mkdir /opt/wordlists
  if (not ('/opt/' | path exists)) {
	  git clone -q --depth 1 https://github.com/danielmiessler/SecLists.git /opt/wordlists/SecLists
	  gita add /opt/wordlists/SecLists
  }
  if (not ('/opt/' | path exists)) {
	  git clone -q --depth 1 https://github.com/praetorian-inc/Hob0Rules /opt/wordlists/Hob0Rules
	  gunzip -q -c /opt/wordlists/Hob0Rules/wordlists/rockyou.txt.gz /opt/wordlist/rockyou.txt
	  gita add /opt/wordlists/Hob0Rules
  }

  mkdir /opt/revshells
  if (not ('/opt/' | path exists)) {
	  git clone -q --depth 1 https://github.com/samratashok/nishang /opt/revshells/nishang
	  gita add /opt/revshells/nishang
  }
  if (not ('/opt/' | path exists)) {
	  git clone -q --depth 1 https://github.com/tennc/webshell /opt/revshells/tennc
	  gita add /opt/revshells/tennc
  }
  if (not ('/opt/' | path exists)) {
	  git clone -q --depth 1 https://github.com/ivan-sincek/powershell-reverse-tcp /opt/revshells/powershell-reverse-tcp
	  gita add /opt/revshells/powershell-reverse-tcp
  }
  if (not ('/opt/' | path exists)) {
	  git clone -q --depth 1 https://github.com/ivan-sincek/php-reverse-shell /opt/revshells/php-reverse-shell
	  gita add /opt/revshells/php-reverse-shell
  }
  if (not ('/opt/' | path exists)) {
	  git clone -q --depth 1 https://github.com/Arrexel/phpbash /opt/revshells/phpbash
	  gita add /opt/revshells/phpbash
  }

}
